Adapter template (src/adapters/adapter-template.ts)

import { Holiday } from "../core/types";

export interface Adapter {
  name: string;
  run: () => Promise<Holiday[]>;
}

export function createStaticAdapter(name: string, holidays: Holiday[]): Adapter {
  return {
    name,
    run: async () => holidays
  };
}


Static examples (e.g., src/adapters/static-jewish.ts)

import { createStaticAdapter } from "./adapter-template";
import { Holiday } from "../core/types";

const year = new Date().getUTCFullYear();

const holidays: Holiday[] = [
  {
    id: `shabbat-${year}-weekly`,
    name: "Shabbat",
    aliases: ["Sabbath"],
    tradition: "Jewish",
    date: { type: "rule", value: "WEEKLY-FRIDAY-SUNSET-TO-SATURDAY-NIGHTFALL" },
    observance: { beginsAtSunset: true, workRestrictions: "Traditional restrictions apply" },
    scope: "global",
    description: "Weekly day of rest and holiness from Friday evening to Saturday night.",
    year
  }
  // Add computed date adapters later for specific annual holidays (e.g., Rosh Hashanah)
];

export async function staticJewish() {
  return createStaticAdapter("static-jewish", holidays).run();
}


User-contributed adapter (src/adapters/user-contrib.ts)

import { Adapter } from "./adapter-template";
import { readFileSync, existsSync } from "fs";
import path from "path";

export const adapters: Adapter[] = [
  {
    name: "user-contrib-json",
    run: async () => {
      const p = path.resolve("contrib/examples/sample-contrib.json");
      if (!existsSync(p)) return [];
      const raw = JSON.parse(readFileSync(p, "utf-8"));
      return Array.isArray(raw) ? raw : [];
    }
  }
];


Sample contribution file (contrib/examples/sample-contrib.json)

[
  {
    "id": "diwali-2025",
    "name": "Diwali",
    "aliases": ["Deepavali"],
    "tradition": "Hindu",
    "date": { "type": "fixed", "value": "2025-10-20", "timezone": "Asia/Kolkata" },
    "observance": { "beginsAtSunset": false },
    "scope": "global",
    "regions": ["IN", "SG", "MY", "FJ", "MU", "TT"],
    "description": "Festival of lights celebrating the triumph of light over darkness.",
    "links": ["https://example.org/context/diwali"],
    "year": 2025
  }
]


---
